(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{489:function(s,n,a){"use strict";a.r(n);var t=a(2),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("在前面的章节里，总说到一个方法，叫copy，而且也都解释了，都是浅拷贝，那什么是浅拷贝什么是深拷贝呢？")]),s._v(" "),n("h3",{attrs:{id:"一-前置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-前置"}},[s._v("#")]),s._v(" 一，前置")]),s._v(" "),n("h4",{attrs:{id:"_1-id-object"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-id-object"}},[s._v("#")]),s._v(" 1，id(object)")]),s._v(" "),n("p",[s._v("作用：返回object的唯一标识符（内存地址）")]),s._v(" "),n("h4",{attrs:{id:"_2-copy模块"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-copy模块"}},[s._v("#")]),s._v(" 2，copy模块")]),s._v(" "),n("p",[s._v("通过导入copy模块，然后可以使用已封装好的浅拷贝函数copy()和深拷贝函数deepcopy()")]),s._v(" "),n("h3",{attrs:{id:"二-赋值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-赋值"}},[s._v("#")]),s._v(" 二，赋值")]),s._v(" "),n("p",[s._v("在讲变量的定义时，有说过，在定义变量的过程中，其实是开启了一块内存空间存放数据，并建立此内存空间与变量名的关联关系\n像如下，使a = 888，再通过内置函数id()获取变量地址时，返回的其实是888存放的内存空间的地址")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("a = 888\nprint(id(a))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1974774331216\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("另外，对于整数数据，在[-5, 256]之间的整数，如果数值相等，地址其实也就相同，这叫小整数对象池（需要再交互式窗口更明显，如终端执行，jupyter等等）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("a = 255\nprint(id(a))\nprint(id(255))\n\na = 257\nprint(id(a))\nprint(id(257))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1974692178288\n1974692178288\n1974774331312\n1974774330928\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("一个值，也能被多个变量名引用，但当引用次数为0时，那么会将此值存放的内存空间释放")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("a = 999\nb = 999\nc = a\nprint(id(a))\nprint(id(b))\nprint(id(c))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1974774332944\n1974774331600\n1974774332944\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("当一个可变类型的数据被多个变量名引用时，如果对该数据修改，所有引用都会改变")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("a = [999]\nb = [999]\nc = a\nprint(id(a))\nprint(id(b))\nprint(id(c))\nprint('--------------------------')\na.append(2)\nprint(a)\nprint(b)\nprint(c)\nprint(id(a))\nprint(id(b))\nprint(id(c))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1974774408064\n1974774407872\n1974774408064\n--------------------------\n[999, 2]\n[999]\n[999, 2]\n1974774408064\n1974774407872\n1974774408064\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"三-浅拷贝-深拷贝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-浅拷贝-深拷贝"}},[s._v("#")]),s._v(" 三，浅拷贝&深拷贝")]),s._v(" "),n("p",[s._v("对于不可变数据类型来说，两种类型的拷贝都等同于赋值，都是拉了个指向同一地址的引用关系；而对于可变数据类型来说，浅拷贝和深拷贝的区别就是深拷贝会对包含的所有可变数据类型都会重新开辟空间存储，而浅拷贝不是。")]),s._v(" "),n("h4",{attrs:{id:"_1-浅拷贝-不可变数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-浅拷贝-不可变数据类型"}},[s._v("#")]),s._v(" 1，浅拷贝-不可变数据类型")]),s._v(" "),n("p",[s._v("等效于赋值，没有拷贝的意义")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('import copy\n\na = "999"\nb = copy.copy(a)\nprint(a)\nprint(b)\nprint(id(a))\nprint(id(b))\nprint(\'--------------------------\')\na =  "888"\nprint(a)\nprint(b)\nprint(id(a))\nprint(id(b))\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("999\n999\n1974775182512\n1974775182512\n--------------------------\n888\n999\n1974775184880\n1974775182512\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("从上例中可以看出，b是浅拷贝的a从而建立起与999的关联关系，虽然a重新赋值了888，b和999的引用关系是没有发生改变的")]),s._v(" "),n("h4",{attrs:{id:"_2-浅拷贝-可变数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-浅拷贝-可变数据类型"}},[s._v("#")]),s._v(" 2，浅拷贝-可变数据类型")]),s._v(" "),n("p",[s._v("如果浅拷贝的是可变数据类型，那么浅拷贝会重新开辟一个数据空间来存放该对象，只是对象里面的各元素（无论是可变还是不可变）还是和以前一样的引用关系，如下")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import copy\n\na = [1, 2, 3, 4 , 'a'，[]]\nb = copy.copy(a)\n\nprint(a)\nprint(b)\nprint(id(a))\nprint(id(b))\nprint(id(a[0]))\nprint(id(b[0]))\nprint(id(a[2]))\nprint(id(b[2]))\nprint(id(a[-1]))\nprint(id(b[-1]))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[1, 2, 3, 4, 'a', []]\n[1, 2, 3, 4, 'a', []]\n1974775183296\n1974774416960\n1974691981616\n1974691981616\n1974691981680\n1974691981680\n1974774407616\n1974774407616\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("可看出列表里的元素的地址是一样的，只是列表本身的地址不一样了")]),s._v(" "),n("h4",{attrs:{id:"_3-深拷贝-可变类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-深拷贝-可变类型"}},[s._v("#")]),s._v(" 3，深拷贝-可变类型")]),s._v(" "),n("p",[s._v("等同于赋值，没有拷贝的意义")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('import copy\n\na = "999"\nb = copy.deepcopy(a)\nprint(a)\nprint(b)\nprint(id(a))\nprint(id(b))\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("999\n999\n1974774322416\n1974774322416\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h4",{attrs:{id:"_4-深拷贝-不可变类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-深拷贝-不可变类型"}},[s._v("#")]),s._v(" 4，深拷贝-不可变类型")]),s._v(" "),n("p",[s._v("和浅拷贝的区别就是包含的元素若为不可变类型，则是重新开辟空间去储存")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("import copy\n\na = [1, 2, 3, 4 , 'a',[]]\nb = copy.deepcopy(a)\n\nprint(a)\nprint(b)\nprint(id(a))\nprint(id(b))\nprint(id(a[0]))\nprint(id(b[0]))\nprint(id(a[2]))\nprint(id(b[2]))\nprint(id(a[-1]))\nprint(id(b[-1]))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("输出为")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[1, 2, 3, 4, 'a', []]\n[1, 2, 3, 4, 'a', []]\n1974775219584\n1974774399808\n1974691981616\n1974691981616\n1974691981680\n1974691981680\n1974775223168\n1974774084416\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);